## Python Grammer

본 문서는 파이썬 언어에 익숙해지기 위해 기초적인 문법 중 낯선 내용을 담는다. 

참고: 점프 투 파이썬 wikidocs (https://wikidocs.net/book/1)

### `**` 연산자

x의 y제곱 값을 계산하는 연산자이다.

```python
>>> a = 3
>>> b = 4
>>> a ** b
81
```



### `//` 연산자

`/` 연산자를 사용하여 7나누기 4를 하면 그 결과는 1.75가 된다.

```python
>>> 7 / 4
1.75
```

`//` 연산자는 나눗셈 후 몫을 반환한다. 

```python
>>> 7 // 4
1
```

1.75에서 몫에 해당되는 정수값 1만 돌려주는 것을 확인할 수 있다.



### 여러 줄인 문자를 변수에 대입하고 싶을 때 """ or '''

1. 줄을 바꾸기 위한 이스케이프 코드 `\n`을 삽입하기
2. 연속된 작은 따옴표 3개(`'''`) 또는 큰 따옴표 3개(`"""`) 사용하기

```python
>>> multiline ='''
	Life is too short
	You need python
'''
```



### 문자열 곱하기

```python
>>> a = "python"
>>> a * 2
'pythonpython'
```

문자열을 갖고 있는 변수에 상수를 곱하면 문장을 반복하는 연산이 수행된다.

```python
>>> print("=" * 50)
>>> print("My Program")
>>> print("=" * 50)

==================================================
My Program
==================================================
```



### 문자열 길이 구하기

문자열의 길이는 len 함수를 사용하여 구할 수 있다.

```python
>>> a = "Life is too short"
>>> len(a)
17
```



### 문자열 슬라이싱

```python
>>> a = "Life is too short, You need Python"
>>> a[0:4]
'Life'
```

슬라이싱 기법으로 a[시작 번호: 끝 번호]를 지정할 때 끝 번호는 포함되지 않는다.



```python
>>>a[19:]
'You need Python'
```

a[시작 번호: 끝 번호]에서 끝 번호를 생략하면 시작 번호부터 그 문자열의 끝까지 뽑아낸다.



```python
>>>a[:17]
'Life is too short'
```

a[시작 번호: 끝 번호]에서 시작 번호를 생략하면 문자열의 처음부터 끝 번호까지 뽑아낸다.



```python
>>>a[:]
'Life is too short, You need Python'
```

a[시작 번호: 끝 번호]에서 시작 번호와 끝 번호 모두 생략하면 문자열의 처음부터 끝까지 뽑아낸다.



**`Pithon`이라는 문자열을 `Python`으로 바꾸려면?**

```python
>>> a = "Pithon"
>>> a[1]
'i'
>>> a[1] = 'y'
```

가장 먼저 위와 같이 문자열의 요솟값 변경을 시도하겠으나, 이는 오류가 발생한다. 문자열의 요솟값은 바꿀 수 있는 값이 아니다. 그래서 immutable한 자료형이라고도 부른다. 이럴 때는 슬라이싱 기법을 사용하자.

```python
>>> a = "Pithon"
>>> a[:1]
'P'
>>> a[2:]
'thon'
>>> a[:1] + 'y' + a[2:]
'Python'
```



### 문자열 포매팅

1. 숫자 바로 대입

   ```python
   >>> "I eat %d apples." % 3
   'I eat 3 apples.'
   ```

2. 문자열 바로 대입

   ```python
   >>> "I eat %s apples." % "five"
   'I eat five apples.'
   ```

3. 숫자 값을 나타내는 변수로 대입

   ```python
   >>> number = 3
   >>> "I eat %d apples." % number
   'I eat 3 apples.'
   ```

4. 2개 이상의 값 넣기

   ```python
   >>> number = 10
   >>> day = "three"
   >>> "I ate %d apples. so I was sick for %s days." % (number, day)
   'I ate 10 apples. so I was sick for three days.'
   ```

   2개 이상의 값을 넣으려면 마지막 % 다음 괄호 안에 콤마(,)로 구분하여 각각의 값을 넣어주면 된다.

문자열 포맷 코드

| 코드 | 설명                      |
| ---- | ------------------------- |
| %s   | 문자열(String)            |
| %c   | 문자 1개(character)       |
| %d   | 정수(Integer)             |
| %f   | 부동소수(floating-point)  |
| %o   | 8진수                     |
| %x   | 16진수                    |
| %%   | Literal % (문자 `%` 자체) |

여기서 %s 코드는 어떤 형태의 값이든 변환해 넣을 수 있다.

```python
>>> "I have %s apples" % 3
'I have 3 apples'
>>> "rate is %s" % 3.234
'rate is 3.234'
```

3을 문자열 안에 삽입하려면 %d를 사용하고, 3.234를 삽입하려면 %f을 사용해야 한다. 하지만 %s를 사용하면 이를 생각하지 않아도 된다. 왜냐하면 %s는 자동으로 % 뒤에 있는 값을 문자열로 바꾸기 때문이다.



포맷 코드와 숫자를 함께 사용하면 더 유용하게 사용할 수 있다.

1. 정렬과 공백

   ```python
   >>> "%10s" % "hi"
   '        hi'
   ```

   `%10s`는 전체 길이가 10인 문자열 공간에서 대입되는 값을 오른쪽으로 정렬하고 그 앞의 나머지는 공백으로 남겨 두라는 의미이다. 반대쪽인 왼쪽 정렬은 `%-10s`이다.

   ```python
   >>> "%-10sjane." % 'hi'
   'hi        jane.'
   ```

   

2. 소수점 표현하기

```python
>>> "%0.4f" % 3.42134234
'3.4213'
```

3.42134234를 소수점 네 번째 자리만 나타내고 싶은 경우에는 위와 같이 사용한다. 즉 여기서 '.'의 의미는 소수점 포인트를 말하고 그 뒤의 숫자 4는 소수점 뒤에 나올 숫자의 개수를 말한다. 

```python
>>> "%10.4f" % 3.42134234
'    3.4213'
```

위 예는 숫자 3.42134234를 소수점 네 번째 자리까지만 표시하고 전체 길이가 10개인 문자열 공간에서 오른쪽으로 정렬하는 예를 보여준다.

### format 함수를 사용한 포매팅

문자열의 format함수를 사용하면 좀 더 발전된 스타일로 문자열 포맷을 지정할 수 있다. 앞에서 살펴본 문자열 포매팅 예제를 format 함수를 사용해서 바꾸면 다음과 같다.

1. 숫자 바로 대입하기

   ```python
   >>> "I eat {0} apples".format(3)
   'I eat 3 apples'
   ```

2. 문자열 바로 대입하기

   ```python
   >>> "I eat {0} apples".format("five")
   'I eat five apples'
   ```

3. 숫자 값을 가진 변수로 대입하기

   ```python
   >>> number = 3
   >>> "I eat {0} apples".format(number)
   'I eat 3 apples'
   ```

4. 2개 이상의 값 넣기

   ```python
   >>> number = 10
   >>> day = "three"
   >>> "I ate {0} apples. so I was sick for {1} days.".format(number, day)
   'I ate 10 apples. so I was sick for three days.'
   ```

5. 이름으로 넣기

   ```python
   >>> "I ate {number} apples. so I was sick for {day} days.".format(number=10, day=3)
   'I ate 10 apples. so I was sick for 3 days.'
   ```

6. 인덱스와 이름을 혼용해서 넣기

   ```python
   >>> "I ate {0} apples. so I was sick for {day} days.".format(10, day=3)
   'I ate 10 apples. so I was sick for 3 days.'
   ```

7. 왼쪽 정렬

   ```python
   >>> "{0:<10}".format("hi")
   'hi        '
   ```

   `:<10`표현식을 사용하면 치환되는 문자열을 왼쪽으로 정렬하고 문자열의 총 자릿수를 10으로 맞출 수 있다.

8. 오른쪽 정렬

   ```python
   >>> "{0:>10}".format("hi")
   '        hi'
   ```

   오른쪽 정렬은 `:<` 대신 `:>`을 사용하면 된다. 화살표 방향을 생각하면 어느 쪽으로 정렬되는지 바로 알 수 있을 것이다.
   

9. 가운데 정렬

   ```python
   >>> "{0:^10}".format("hi")
   '    hi    '
   ```

   `:^` 기호를 사용하면 가운데 정렬도 가능하다.

10. 공백 채우기

    ```python
    >>> "{0:=^10}".format("hi")
    '====hi===='
    >>> "{0:!<10}".format("hi")
    'hi!!!!!!!!'
    ```

    정렬할 때 공백 문자 대신에 지정한 문자 값으로 채워 넣는 것도 가능하다. 채워 넣을 문자 값은 정렬 문자 `<, >, ^` 바로 앞에 넣어야 한다. 위 예에서 첫 번째 예제는 가운데(`^`)로 정렬하고 빈 공간을 `=` 문자로 채웠고, 두 번째 예제는 왼쪽(`<`)으로 정렬하고 빈 공간을 `!` 문자로 채웠다.
    

11. 소수점 표현하기

    ```python
    >>> y = 3.42134234
    >>> "{0:0.4f}".format(y)
    '3.4213'
    ```

12. f문자열 포매팅

    파이썬 3.6 버전부터는 f 문자열 포매팅 기능을 사용할 수 있다. 파이썬 3.6 미만 버전에서는 사용할 수 없는 기능이므로 주의해야 한다.

    다음과 같이 문자열 앞에 f 접두사를 붙이면 f 문자열 포매팅 기능을 사용할 수 있다.

    ```python
    >>> name = '홍길동'
    >>> age = 30
    >>> f'나의 이름은 {name}입니다. 나이는 {age}입니다.'
    '나의 이름은 홍길동입니다. 나이는 30입니다.'
    ```

    f 문자열 포매팅은 위와 같이 name, age와 같은 변수 값을 생성한 후에 그 값을 참조할 수 있다. 또한 f 문자열 포매팅은 표현식을 지원하기 때문에 다음과 같은 것도 가능하다.

    > ※ 표현식이란 문자열 안에서 변수와 +, -와 같은 수식을 함께 사용하는 것을 말한다.

    ```python
    >>> age = 30
    >>> f'나는 내년이면 {age+1}살이 된다.'
    '나는 내년이면 31살이 된다.'
    ```

    딕셔너리는 f 문자열 포매팅에서 다음과 같이 사용할 수 있다.

    > ※ 딕셔너리는 Key와 Value라는 것을 한 쌍으로 갖는 자료형이다. 02-5에서 자세히 알아본다.

    ```python
    >>> d = {'name':'홍길동', 'age':30}
    >>> f'나의 이름은 {d["name"]}입니다. 나이는 {d["age"]}입니다.'
    '나의 이름은 홍길동입니다. 나이는 30입니다.'
    ```

    정렬은 다음과 같이 할 수 있다.

    ```python
    >>> f'{"hi":<10}'  # 왼쪽 정렬
    'hi        '
    >>> f'{"hi":>10}'  # 오른쪽 정렬
    '        hi'
    >>> f'{"hi":^10}'  # 가운데 정렬
    '    hi    '
    ```

    공백 채우기는 다음과 같이 할 수 있다.

    ```python
    >>> f'{"hi":=^10}'  # 가운데 정렬하고 '=' 문자로 공백 채우기
    '====hi===='
    >>> f'{"hi":!<10}'  # 왼쪽 정렬하고 '!' 문자로 공백 채우기
    'hi!!!!!!!!'
    ```

    소수점은 다음과 같이 표현할 수 있다.

    ```python
    >>> y = 3.42134234
    >>> f'{y:0.4f}'  # 소수점 4자리까지만 표현
    '3.4213'
    >>> f'{y:10.4f}'  # 소수점 4자리까지 표현하고 총 자리수를 10으로 맞춤
    '    3.4213'
    ```

    f 문자열에서 `{ }` 문자를 표시하려면 다음과 같이 두 개를 동시에 사용해야 한다.

    ```python
    >>> f'{{ and }}'
    '{ and }'
    ```

### 문자열 관련 함수들

####  문자 개수 세기(count)

```python
>>> a = "hobby"
>>> a.count('b')
2
```

문자열 중 문자 b의 개수를 돌려준다.

#### 위치 알려주기(find)

```python
>>> a = "Python is the best choice"
>>> a.find('b')
14
>>> a.find('k')
-1
```

문자열 중 문자 b가 처음으로 나온 위치를 반환한다. 만약 찾는 문자나 문자열이 존재하지 않는다면 -1을 반환한다.

> ※ 파이썬은 숫자를 0부터 세기 때문에 b의 위치는 15가 아닌 14가 된다.

#### 위치 알려주기2(index)

```python
>>> a = "Life is too short"
>>> a.index('t')
8
>>> a.index('k')
Traceback (most recent call last):
File "<stdin>", line 1, in <module>
ValueError: substring not found
```

문자열 중 문자 t가 맨 처음으로 나온 위치를 반환한다. 만약 찾는 문자나 문자열이 존재하지 않는다면 오류를 발생시킨다. **앞의 find 함수와 다른 점은 문자열 안에 존재하지 않는 문자를 찾으면 오류가 발생한다는 점**이다.

#### 문자열 삽입(join)

```python
>>> ",".join('abcd')
'a,b,c,d'
```

abcd 문자열의 각각의 문자 사이에 ','를 삽입한다.

join 함수는 문자열뿐만 아니라 앞으로 배울 리스트나 튜플도 입력으로 사용할 수 있다. join 함수의 입력으로 리스트를 사용하는 예는 다음과 같다.

```python
>>> ",".join(['a', 'b', 'c', 'd'])
'a,b,c,d'
```

#### 왼쪽 공백 지우기(lstrip)

```python
>>> a = " hi "
>>> a.lstrip()
'hi '
```

문자열 중 가장 왼쪽에 있는 한 칸 이상의 연속된 공백들을 모두 지운다. lstrip에서 l은 left를 의미한다.

#### 오른쪽 공백 지우기(rstrip)

```python
>>> a= " hi "
>>> a.rstrip()
' hi'
```

문자열 중 가장 오른쪽에 있는 한 칸 이상의 연속된 공백을 모두 지운다. rstrip에서 r는 right를 의미한다.

#### 양쪽 공백 지우기(strip)

```python
>>> a = " hi "
>>> a.strip()
'hi'
```

문자열 양쪽에 있는 한 칸 이상의 연속된 공백을 모두 지운다.

#### 문자열 바꾸기(replace)

```python
>>> a = "Life is too short"
>>> a.replace("Life", "Your leg")
'Your leg is too short'
```

replace(바뀌게 될 문자열, 바꿀 문자열)처럼 사용해서 문자열 안의 특정한 값을 다른 값으로 치환해 준다.

#### 문자열 나누기(split)

```python
>>> a = "Life is too short"
>>> a.split()
['Life', 'is', 'too', 'short']
>>> b = "a:b:c:d"
>>> b.split(':')
['a', 'b', 'c', 'd']
```

split 함수는 `a.split()`처럼 괄호 안에 아무 값도 넣어 주지 않으면 공백(스페이스, 탭, 엔터 등)을 기준으로 문자열을 나누어 준다. 만약 `b.split(':')`처럼 괄호 안에 특정 값이 있을 경우에는 괄호 안의 값을 구분자로 해서 문자열을 나누어 준다. 이렇게 나눈 값은 리스트에 하나씩 들어가게 된다. 

위에서 등장한 문자열 관련 함수는 문자열 처리에서 사용 빈도가 매우 높고 유용하다. 이 외에도 몇 가지가 더 있지만 자주 사용되지는 않는다.



### 리스트 연산(+, * , len)

```python
>>> a = [1, 2, 3]
>>> b = [4, 5, 6]
>>> a + b
[1, 2, 3, 4, 5, 6]
```

리스트 사이에서 + 기호는 2개의 리스트를 합치는 기능을 한다. 문자열에서 `"abc" + "def" = "abcdef"`가 되는 것과 같은 이치이다.



```python
>>> a = [1, 2, 3]
>>> a * 3
[1, 2, 3, 1, 2, 3, 1, 2, 3]
```

위에서 볼 수 있듯이 [1, 2, 3] 리스트가 세 번 반복되어 새로운 리스트를 만들어낸다. 문자열에서 `"abc" * 3 = "abcabcabc"` 가 되는 것과 같은 이치이다.



리스트 길이를 구하기 위해서는 다음처럼 len 함수를 사용해야 한다.

```python
>>> a = [1, 2, 3]
>>> len(a)
3
```

len 함수는 문자열, 리스트 외에 튜플과 딕셔너리에도 사용할 수 있는 함수이다. 



**[초보자가 범하기 쉬운 리스트 연산 오류]**

다음 소스 코드를 입력했을 때 결괏값은 어떻게 나올까?

```python
>>> a = [1, 2, 3]
>>> a[2] + "hi"
```

a[2]의 값인 3과 문자열 hi가 더해져서 3hi가 출력될 것이라고 생각할 수 있다. 하지만 다음 결과를 보자. 형 오류(TypeError)가 발생했다. 오류의 원인은 무엇일까?

```python
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
TypeError: unsupported operand type(s) for +: 'int' and 'str'
```

a[2]에 저장된 값은 3이라는 정수인데 "hi"는 문자열이다. 정수와 문자열은 당연히 서로 더할 수 없기 때문에 형 오류가 발생한 것이다.

만약 숫자와 문자열을 더해서 '3hi'처럼 만들고 싶다면 숫자 3을 문자 '3'으로 바꾸어 주어야 한다. 다음과 같이 할 수 있다.

```python
>>>str(a[2]) + "hi"
```

**str 함수는 정수나 실수를 문자열의 형태로 바꾸어 주는 파이썬의 내장 함수**이다.



### 리스트 요소 삭제(del)

```python
>>> a = [1, 2, 3]
>>> del a[1]
>>> a
[1, 3]
```

del a[x]는 x번째 요솟값을 삭제한다. 여기에서는 a 리스트에서 a[1]을 삭제하는 방법을 보여준다. del 함수는 파이썬이 자체적으로 가지고 있는 삭제 함수이며 다음과 같이 사용한다.

```python
del 객체
```

> ※ 객체란 파이썬에서 사용되는 모든 자료형을 말한다.

다음처럼 슬라이싱 기법을 사용하여 리스트의 요소 여러 개를 한꺼번에 삭제할 수도 있다.

```python
>>> a = [1, 2, 3, 4, 5]
>>> del a[2:]
>>> a
[1, 2]
```

a[2:]에 해당하는 리스트의 요소들이 삭제되었다.

리스트의 요소를 삭제하는 방법에는 2가지가 더 있다. 그것은 리스트의 remove와 pop 함수를 사용하는 방법이다.



### 리스트 관련 함수들

#### 리스트에 요소 추가(append)

```python
>>> a = [1, 2, 3]
>>> a.append(4)
>>> a
[1, 2, 3, 4]
```

리스트 안에는 어떤 자료형도 추가할 수 있다.

다음 예는 리스트에 다시 리스트를 추가한 결과이다.

```python
>>> a.append([5,6])
>>> a
[1, 2, 3, 4, [5, 6]]
```

#### 리스트 정렬(sort)

sort 함수는 리스트의 요소를 순서대로 정렬해 준다.

```python
>>> a = [1, 4, 3, 2]
>>> a.sort()
>>> a
[1, 2, 3, 4]
```

문자 역시 알파벳 순서로 정렬할 수 있다.

```python
>>> a = ['a', 'c', 'b']
>>> a.sort()
>>> a
['a', 'b', 'c']
```

reverse옵션 True는 내림차순 정렬

```python
>>> a = [1, 10, 5, 7, 6]
>>> a.sort()
>>> a
[1, 5, 6, 7, 10]
>>> a = [1, 10, 5, 7, 6]
>>> a.sort(reverse=True)
>>> a
[10, 7, 6, 5, 1]
```

-  key 옵션, key 옵션에 지정된 함수의 결과에따라 정렬, 아래는 원소의 길이

```python
>>> m = '나는 파이썬을 잘하고 싶다'
>>> m = m.split()
>>> m
['나는', '파이썬을', '잘하고', '싶다']
>>> m.sort(key=len)
>>> m
['나는', '싶다', '잘하고', '파이썬을']
```

#### 리스트 뒤집기(reverse)

reverse 함수는 리스트를 역순으로 뒤집어 준다. 이때 리스트 요소들을 순서대로 정렬한 다음 다시 역순으로 정렬하는 것이 아니라 그저 현재의 리스트를 그대로 거꾸로 뒤집는다.

```python
>>> a = ['a', 'c', 'b']
>>> a.reverse()
>>> a
['b', 'c', 'a']
```

#### 위치 반환(index)

index(x) 함수는 리스트에 x 값이 있으면 x의 위치 값을 돌려준다.

```python
>>> a = [1,2,3]
>>> a.index(3)
2
>>> a.index(1)
0
```

위 예에서 리스트 a에 있는 숫자 3의 위치는 a[2]이므로 2를 돌려주고, 숫자 1의 위치는 a[0]이므로 0을 돌려준다.

다음 예에서 값 0은 a 리스트에 존재하지 않기 때문에 값 오류(ValueError)가 발생한다.

```python
>>> a.index(0)
Traceback (most recent call last):
  File "<stdin>", line 1, in <module>
ValueError: 0 is not in list
```

#### 리스트에 요소 삽입(insert)

insert(a, b)는 리스트의 a번째 위치에 b를 삽입하는 함수이다. 파이썬에서는 숫자를 0부터 센다는 것을 반드시 기억하자.

```python
>>> a = [1, 2, 3]
>>> a.insert(0, 4)
>>> a
[4, 1, 2, 3]
```

위 예는 0번째 자리, 즉 첫 번째 요소(a[0]) 위치에 값 4를 삽입하라는 뜻이다.

```python
>>> a.insert(3, 5)
>>> a
[4, 1, 2, 5, 3]
```

위 예는 리스트 a의 a[3], 즉 네 번째 요소 위치에 값 5를 삽입하라는 뜻이다.

#### 리스트 요소 제거(remove)

remove(x)는 리스트에서 첫 번째로 나오는 x를 삭제하는 함수이다.

```python
>>> a = [1, 2, 3, 1, 2, 3]
>>> a.remove(3)
>>> a
[1, 2, 1, 2, 3]
```

a가 3이라는 값을 2개 가지고 있을 경우 첫 번째 3만 제거되는 것을 알 수 있다.

```python
>>> a.remove(3)
>>> a
[1, 2, 1, 2]
```

remove(3)을 한 번 더 실행하면 다시 3이 삭제된다.

#### 리스트 요소 끄집어내기(pop)

pop()은 리스트의 맨 마지막 요소를 돌려주고 그 요소는 삭제한다.

```python
>>> a = [1,2,3]
>>> a.pop()
3
>>> a
[1, 2]
```

a 리스트 [1, 2, 3]에서 3을 끄집어내고 최종적으로 [1, 2]만 남는 것을 볼 수 있다.

pop(x)는 리스트의 x번째 요소를 돌려주고 그 요소는 삭제한다.

```python
>>> a = [1,2,3]
>>> a.pop(1)
2
>>> a
[1, 3]
```

a.pop(1)은 a[1]의 값을 끄집어낸다. 다시 a를 출력해 보면 끄집어낸 값이 삭제된 것을 확인할 수 있다.

#### 리스트에 포함된 요소 x의 개수 세기(count)

count(x)는 리스트 안에 x가 몇 개 있는지 조사하여 그 개수를 돌려주는 함수이다.

```python
>>> a = [1,2,3,1]
>>> a.count(1)
2
```

1이라는 값이 리스트 a에 2개 들어 있으므로 2를 돌려준다.

#### 리스트 확장(extend)

extend(x)에서 x에는 리스트만 올 수 있으며 원래의 a 리스트에 x 리스트를 더하게 된다.

```python
>>> a = [1,2,3]
>>> a.extend([4,5])
>>> a
[1, 2, 3, 4, 5]
>>> b = [6, 7]
>>> a.extend(b)
>>> a
[1, 2, 3, 4, 5, 6, 7]
```

a.extend([4, 5])는 a += [4, 5]와 동일하다.